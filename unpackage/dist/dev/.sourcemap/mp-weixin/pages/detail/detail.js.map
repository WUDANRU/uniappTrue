{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?e506","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?515e","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?5e37","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?be31","uni-app:///pages/detail/detail.vue","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?d718","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/detail/detail.vue?ad5f"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AAC+L;AAC/L,gBAAgB,gMAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA+uB,CAAgB,+sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8LnwB,gD;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eACA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA,sBAHA;AAIA,4BAJA;AAKA,kCALA;AAMA,kBANA;AAOA,cAPA;AAQA,0BARA;AASA,wBATA;AAUA,4BAVA;AAWA,gBAXA;AAYA,gCAZA;AAaA,8BAbA,EADA;;AAgBA,MAhBA,kBAgBA;AACA;AACA;AACA;AACA,oBADA;AAEA,uBAFA,EAEA;AACA,uBAHA,EAFA;;AAOA,iBAPA;AAQA;AACA,iBATA;AAUA,kBAVA;AAWA,gBAXA;AAYA,mBAZA;AAaA,iBAbA;AAcA,iBAdA;;AAgBA,GAjCA;AAkCA;AACA;AACA,gEADA,GADA;;AAIA,sCAJA;AAKA;AACA,eANA,yBAMA;AACA;AACA;AACA;AACA,uCAFA,CAEA;AACA,OAHA;AAIA;AACA;AACA;AACA,KAfA;AAgBA;AACA,oBAjBA,8BAiBA;AACA;AACA;AACA;AACA;AACA;AACA,mDADA,CACA;AACA,OAFA;AAGA;AACA,KA1BA;AA2BA;AACA,aA5BA,uBA4BA;AACA;AACA;AACA;AACA;AACA,6CAHA,CAGA;AACA;AACA;AACA;AACA,KArCA;AAsCA;AACA,YAvCA,sBAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAbA,CAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9DA,IAlCA;AAkGA,QAlGA,kBAkGA,CAlGA,EAkGA;AACA;AACA;AACA;AACA;AACA,GAvGA;AAwGA;AACA,6CADA;AAEA;AACA,UAHA,kBAGA,IAHA,EAGA;AACA;AACA;AACA;AACA;AACA,sBADA;;AAGA,SAJA;AAKA;AACA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA;AACA;AACA,4BADA;AAEA,yBAFA;AAGA,yBAHA;;AAKA,SANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,kCAFA;AAGA,qCAHA;AAIA,sCAJA,EAIA;AACA,kCALA;AAMA,kCANA;AAOA;AACA;AACA;AATA;AAWA,SAhBA;;AAkBA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,0BAFA;AAGA,0BAHA;AAIA,wBAJA;AAKA,gCALA;AAMA,+BANA;;AAQA,SATA;;AAWA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,8BAFA;;AAIA,aALA;AAMA;AACA,sBADA;AAEA,2BAFA;AAGA,yBAHA;AAIA,wBAJA;;AAMA,WAbA;AAcA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CALA,CAKA;AACA,WANA;AAOA;AACA,OAvFA;AAwFA,KA5FA;AA6FA,kBA7FA,4BA6FA;AACA;AACA,+CADA;;AAGA;AACA,KAlGA;AAmGA,WAnGA,qBAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8GADA;AAEA,uCAFA;AAGA,4BAHA;AAIA;AACA,mBADA,EAJA;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA,OAjBA;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3IA;AA4IA;AACA,eA7IA,yBA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtJA;AAuJA,QAvJA,gBAuJA,GAvJA,EAuJA;AACA;AACA,KAzJA;AA0JA,QA1JA,gBA0JA,GA1JA,EA0JA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KA/JA;AAgKA,WAhKA,mBAgKA,GAhKA,EAgKA,CAhKA,EAgKA;;AAEA,KAlKA;AAmKA,YAnKA,oBAmKA,IAnKA,EAmKA,CAnKA,EAmKA;AACA;AACA,KArKA;AAsKA;AACA,cAvKA,wBAuKA;AACA;AACA,mCADA;;AAGA,KA3KA,GAxGA,E;;;;;;;;;;;;;AC/MA;AAAA;AAAA;AAAA;AAA0jC,CAAgB,0+BAAG,EAAC,C;;;;;;;;;;;ACA9kC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3e159eb4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.detail.num = $event\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 商品详情大图 -->\r\n\t\t<swiper-image :resdata=\"banners\" height=\"750\" preview />\r\n\r\n\t\t<!-- 基础详情 -->\r\n\t\t<base-info :detail=\"detail\" :show-price=\"showPrice\"></base-info>\r\n\r\n\t\t<!-- 滚动商品特性 w170*h110 -->\r\n\t\t<scroll-attrs :baseAttrs=\"baseAttrs\"></scroll-attrs>\r\n\r\n\t\t<!-- 属性选择  uni-list-item.vue文件加了<slot></slot> -->\r\n\t\t<view class=\"p-1 pt-2\">\r\n\t\t\t<view class=\"rounded border bg-light-secondary\">\r\n\t\t\t\t<!--  <uni-list-item  title=\"已选\">  -->\r\n\t\t\t\t<uni-list-item showArrow newStyle=\"background-color: #f1f1f1;\" v-if=\"detail.sku_type===1\">\r\n\t\t\t\t\t<view class=\"d-flex a-center\" @click=\"show('attr')\">\r\n\t\t\t\t\t\t<text class=\"mr-2 text-muted\">已选</text>\r\n\t\t\t\t\t\t<text>{{checkedSkus}}</text>\r\n\t\t\t\t\t\t<!-- <text>火焰红 64G 标配</text> -->\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t<uni-list-item newStyle=\"background-color: #f1f1f1;\" @click=\"goToCoupon\">\r\n\t\t\t\t\t<view class=\"d-flex\">\r\n\t\t\t\t\t\t<text class=\"mr-2 text-muted\">优惠券</text>\r\n\t\t\t\t\t\t<text class=\"main-text-color\">马上领取</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t<uni-list-item newStyle=\"background-color: #f1f1f1;\">\r\n\t\t\t\t\t<view class=\"d-flex\" @click=\"show('express')\">\r\n\t\t\t\t\t\t<text class=\"mr-2 text-muted\">配送</text>\r\n\t\t\t\t\t\t<text class=\"mr-2\">北京 东城区</text>\r\n\t\t\t\t\t\t<text class=\"main-text-color\">现配</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t<uni-list-item newStyle=\"background-color: #f1f1f1;\" extraStyle=\"width:2%;\" :showArrowIcon=\"false\">\r\n\t\t\t\t\t<view class=\"d-flex\" style=\"justify-content: space-around;\" @click=\"show('service')\">\r\n\t\t\t\t\t\t<view style=\"margin-left:-20upx;\" class=\"text-muted font-1 d-flex j-center\">\r\n\t\t\t\t\t\t\t<view class=\"iconfont d-flex  icon-finish main-text-color\"></view>\r\n\t\t\t\t\t\t\t小米自营\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-muted font-1 mr-1 d-flex j-center\">\r\n\t\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color\"></view>\r\n\t\t\t\t\t\t\t小米发货\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left:-20upx;\" class=\"text-muted font-1 mr-1 d-flex j-center\">\r\n\t\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color\"></view>\r\n\t\t\t\t\t\t\t七天无理由退货\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-list-item>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 横向滚动评论\r\n\t\t\t外层 w620*h380\r\n\t\t\t头像 w70*h70\r\n\t\t\t图片 h115\r\n\t\t\t:goods_id=\"detail.id\"\r\n\t\t-->\r\n\t\t<scroll-comments :goods_id=\"detail.id\" :comments=\"comments\"></scroll-comments>\r\n\r\n\t\t<!-- 商品详情 -->\r\n\t\t<u-parse className=\"uparse\" :content=\"context\" @preview=\"preview\" @navigate=\"navigate\"></u-parse>\r\n\r\n\t\t<!-- 热门推荐 -->\r\n\t\t<card headTitle=\"热门推荐\" :headTitleWeight=\"false\" :headBorderBottom=\"false\">\r\n\t\t\t<view class=\"row j-sb\">\r\n\t\t\t\t<common-list v-for=\"(item,index) in hotList\" :key=\"index\" :item=\"item\" :index=\"index\">\r\n\t\t\t\t</common-list>\r\n\t\t\t</view>\r\n\t\t</card>\r\n\r\n\t\t<!-- 底部操作条 -->\r\n\t\t<bottom-btn @showed=\"show('attr')\"></bottom-btn>\r\n\r\n\t\t<!-- 属性筛选框 -->\r\n\t\t<common-popup :popupClass=\"popup.attr\" @hide=\"hide('attr')\">\r\n\t\t\t<!-- \r\n\t\t\t商品信息(275rpx)\r\n\t\t\t图片 180*180\r\n\t\t\t-->\r\n\t\t\t<view class=\"d-flex a-center\" style=\"height: 275rpx;\">\r\n\t\t\t\t<image src=\"../../static/images/demo/list/1.jpg\" mode=\"widthFix\" style=\"height: 180rpx;width: 180rpx;\"\r\n\t\t\t\t\tclass=\"border rounded\"></image>\r\n\t\t\t\t<view class=\"pl-2\">\r\n\t\t\t\t\t<!-- <price priceSize=\"font-lg\" unitSize=\"font\">2365</price> -->\r\n\t\t\t\t\t<price priceSize=\"font-lg\" unitSize=\"font\">{{showPrice}}</price>\r\n\t\t\t\t\t<!-- <text class=\"d-block\">\r\n\t\t\t\t\t\t火焰红 64GB 标配\r\n\t\t\t\t\t</text> -->\r\n\t\t\t\t\t<text class=\"d-block\">\r\n\t\t\t\t\t\t{{checkedSkus}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- \r\n\t\t\t表单部分(660rpx)\r\n\t\t\t-->\r\n\t\t\t<scroll-view scroll-y style=\"height: 660rpx;width:750rpx;\">\r\n\t\t\t\t<card :headTitle=\"item.title\" :headTitleWeight=\"false\" :headBorderBottom=\"false\" :key=\"index\"\r\n\t\t\t\t\tv-for=\"(item,index) in selects\">\r\n\t\t\t\t\t<zcm-radio-group :label=\"item\" :selected.sync='item.selected'></zcm-radio-group>\r\n\t\t\t\t</card>\r\n\t\t\t\t<view class=\"d-flex j-sb a-center p-2 border-top border-light-secondary\">\r\n\t\t\t\t\t<text>购买数量</text>\r\n\t\t\t\t\t<uni-number-box :min=\"1\" :max=\"maxStock\" :value=\"detail.num\" @change=\"detail.num=$event\">\r\n\t\t\t\t\t</uni-number-box>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\r\n\t\t\t<!--\r\n\t\t\t 按钮(100rpx)\r\n\t\t\t -->\r\n\t\t\t <view class=\"text-white font-sm d-flex a-center j-center\" :class=\"maxStock===0?'bg-secondary':'main-bg-color'\"\r\n\t\t\t \t hover-class=\"maxStock!==0?main-bg-hover-color:''\" style=\"height: 100rpx;margin-left: -30rpx;margin-right: -30rpx;\" @tap.stop=\"addCart\">\r\n\t\t\t \t\t{{maxStock===0?'暂无库存':'加入购物车'}}\r\n\t\t\t \t</view>\r\n\t\t\t </common-popup>\r\n\r\n\t\t<!-- 收货地址 -->\r\n\t\t<!-- 275+660=935-100=835 -->\r\n\t\t<common-popup :popupClass=\"popup.express\" @hide=\"hide('express')\">\r\n\t\t\t<scroll-view scroll-y class=\"w-100\" style=\"height: 935rpx;\">\r\n\t\t\t\t<uni-list-item :newStyle=\"'background: none;border-bottom: 1upx solid #bfbfbf;'\"\r\n\t\t\t\t\tv-for=\"(item,index) in pathList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"iconfont icon-dingwei font-weight font-3\">{{item.name}}</view>\r\n\t\t\t\t\t<view class=\"font-1 text-light-muted mt-1\">\r\n\t\t\t\t\t\t{{item.path}} {{item.detailPath}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!--\r\n\t\t\t\t\t按钮(100rpx)\r\n\t\t\t\t\t-->\r\n\t\t\t<view class=\"font-3 main-bg-color text-white d-flex a-center j-center\" hover-class=\"main-bg-hover-color\"\r\n\t\t\t\tstyle=\"height: 100rpx;margin-left: -30rpx;margin-right: -30rpx;\" @tap.stop=\"openCreatePath\">\r\n\t\t\t\t选择新的地址\r\n\t\t\t</view>\r\n\t\t</common-popup>\r\n\r\n\t\t<!-- 服务说明 -->\r\n\t\t<common-popup :popupClass=\"popup.service\" @hide=\"hide('service')\">\r\n\t\t\t<view class=\"d-flex a-center j-center font-sm border-bottom border-light-secondary\" style=\"height: 100rpx;\">\r\n\t\t\t\t服务说明\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-y class=\"w-100\" style=\"height: 835rpx;\">\r\n\t\t\t\t<view class=\"py-1\">\r\n\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color mr-1\"></view>\r\n\t\t\t\t\t\t小米自营\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"text-light-muted font-2 pl-4\">\r\n\t\t\t\t\t\t不管满多少，就是不包邮\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- \r\n\t\t 按钮(100rpx)\r\n\t\t -->\r\n\t\t\t<view class=\"main-bg-color text-white font-3 d-flex a-center j-center\" hover-class=\"main-bg-hover-color\"\r\n\t\t\t\tstyle=\"height: 100rpx;margin-left: -30rpx;margin-right: -30rpx;\" @tap.stop=\"hide('service')\">\r\n\t\t\t\t确定\r\n\t\t\t</view>\r\n\t\t</common-popup>\r\n\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport swiperImage from '@/components/swiper-image1.vue'\r\n\timport baseInfo from '@/components/base-info.vue'\r\n\timport scrollAttrs from '@/components/scroll-attrs.vue'\r\n\timport uniListItem from '@/components/uni-ui/uni-common/uni-list-item/uni-list-item.vue'\r\n\timport scrollComments from \"@/components/scroll-comments.vue\"\r\n\timport uParse from '@/components/uni-ui/uParse/src/wxParse.vue' //解析富文本\r\n\timport card from \"@/components/common/card.vue\"\r\n\timport commonList from \"@/components/common/common-list.vue\"\r\n\timport bottomBtn from \"@/components/bottom-btn.vue\" //详情页面的，里面有角标组件\r\n\timport commonPopup from \"@/components/common-popup.vue\"\r\n\timport price from \"@/components/price.vue\"\r\n\timport zcmRadioGroup from \"@/components/common/radio-group.vue\"\r\n\timport uniNumberBox from \"@/components/uni-ui/uni-number-box/uni-number-box.vue\"\r\n\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations,\r\n\t\tmapGetters\r\n\t} from 'vuex'\r\n\r\n\t// var htmlString = `\r\n\t// <p>\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/9c3e29dc-151f-75cb-b0a5-c423a5d13926.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/f442b971-379f-5030-68aa-3b0accb8c2b9.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/63b700b6-643e-ec18-fdf3-da66b4b4173f.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/e9dbf276-193e-11c4-99a6-3097fde82350.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/1249d3ee-2990-a2b4-28d9-f719c2417b1f.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/97c79915-64b2-808c-53b4-4345652a179f.webp\">\r\n\t// \t<img src=\"https://i8.mifile.cn/v1/a1/cd0fbe1e-a1b3-a87a-f4a6-6fb08ec54931.webp\">\r\n\t// </p>\r\n\t//     `\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tswiperImage,\r\n\t\t\tscrollAttrs,\r\n\t\t\tbaseInfo,\r\n\t\t\tuniListItem,\r\n\t\t\tscrollComments,\r\n\t\t\tuParse,\r\n\t\t\tcard,\r\n\t\t\tcommonList,\r\n\t\t\tbottomBtn,\r\n\t\t\tcommonPopup,\r\n\t\t\tprice,\r\n\t\t\tzcmRadioGroup,\r\n\t\t\tuniNumberBox\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// popupClass: \"none\",\r\n\t\t\t\tpopup: {\r\n\t\t\t\t\tattr: \"none\",\r\n\t\t\t\t\texpress: \"none\", //隐藏地址\r\n\t\t\t\t\tservice: \"none\"\r\n\t\t\t\t},\r\n\t\t\t\tbanners: [],\r\n\t\t\t\t// context: htmlString, //从uParse复制过来的\r\n\t\t\t\tcontext: '',\r\n\t\t\t\tcomments: [],\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tbaseAttrs: [],\r\n\t\t\t\thotList: [],\r\n\t\t\t\tselects: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tpathList: state => state.path.list\r\n\t\t\t}),\r\n\t\t\t...mapGetters(['cartCount']),\r\n\t\t\t// 用户选中的sku\r\n\t\t\tcheckedSkus() {\r\n\t\t\t\t// 拿到选中skus组成字符串,默认选中的是第一个\r\n\t\t\t\tlet checkedSkus = this.selects.map(v => {\r\n\t\t\t\t\t// console.log(v.list) //两个数组[ [{},{}] , [{},{}] ]\r\n\t\t\t\t\treturn v.list[v.selected].name // ['黄色', '标配']\r\n\t\t\t\t})\r\n\t\t\t\treturn checkedSkus.join(',')\r\n\t\t\t\t// 拿到skusText\r\n\t\t\t\t// this.selects[0]\r\n\t\t\t},\r\n\t\t\t// 选中skus的索引\r\n\t\t\tcheckedSkusIndex() {\r\n\t\t\t\tif (!Array.isArray(this.detail.goodsSkus)) {\r\n\t\t\t\t\treturn -1\r\n\t\t\t\t}\r\n\t\t\t\t// 数组可以通过查找下标来拿\r\n\t\t\t\tlet index = this.detail.goodsSkus.findIndex((item) => {\r\n\t\t\t\t\treturn item.skusText === this.checkedSkus //goodsSkus的四种可能比对goodsSkusCard(this.selects)规格属性\r\n\t\t\t\t})\r\n\t\t\t\treturn index\r\n\t\t\t},\r\n\t\t\t// 显示价格\r\n\t\t\tshowPrice() { //没有选中属性价格就显示sku最小的价格，选中属性价格就跟着改变\r\n\t\t\t// console.log(this.checkedSkusIndex) //0\r\n\t\t\tif(this.checkedSkusIndex < 0){\r\n\t\t\t\tconsole.log(this.detail.min_price,this.checkedSkus,'---------------------------------------')\r\n\t\t\t\t// if (!this.checkedSkus) {\r\n\t\t\t\t\treturn this.detail.min_price || 0.00 //吧页面所有的信息都放在this.detail\r\n\t\t\t\t}\r\n\t\t\t\treturn this.detail.goodsSkus[this.checkedSkusIndex].pprice\r\n\t\t\t\tconsole.log(this.checkedSkusIndex, 'index')\r\n\t\t\t},\r\n\t\t\t// 最大库存  skus_type是skus类型，0单一规格，1多规格\r\n\t\t\tmaxStock() {\r\n\t\t\t\tif (this.detail.sku_type === 0) {\r\n\t\t\t\t\t// console.log(this.detail, '//////////////////////////////////')\r\n\t\t\t\t\treturn this.detail.stock\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(this.checkedSkusIndex) //-1或1\r\n\t\t\t\tif (!Array.isArray(this.detail.goodsSkus)) {\r\n\t\t\t\t\treturn 100\r\n\t\t\t\t}\r\n\t\t\t\t// 0的话禁用加入购物车\r\n\t\t\t\t // this.detail.goodsSkus[this.checkedSkusIndex].stock=0\r\n\t\t\t\t // if(this.detail.goodsSkus[this.checkedSkusIndex].stock===0){ \r\n\t\t\t\t\t \t\t // console.log(this.detail.goodsSkus[this.checkedSkusIndex].stock,'stock') \r\n\t\t\t\t\t  return this.detail.goodsSkus[this.checkedSkusIndex].stock //假如库存是0，点击黄色和套餐一，购买数量却能一直加，是因为要去掉||100\r\n\t\t\t\t // }\r\n\t\t\t},\r\n\t\t\t// 套餐固定套餐一，点击黄色和绿色，最大数量分别为18和14，问题：先点击黄色再点击绿色，值一直停留在18,uni-number-box组件一直显示18\r\n\t\t\t// 最大库存变化(uni-number-box组件增加了这个)\r\n\t\t\t// max(newVal,oldVal){\r\n\t\t\t// \tconsole.log(newVal)\r\n\t\t\t// if(this.inputValue>newVal){ //newVal最大的值，this.inputValue默认是1\r\n\t\t\t// \tthis.inputValue=newVal\r\n\t\t\t// }\r\n\t\t\t// }\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tif (e.detail) {\r\n\t\t\t\tconsole.log(e.detail)\r\n\t\t\t\tthis.__init(JSON.parse(e.detail))\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['addGoodsToCart']),\r\n\t\t\t// 初始化页面\r\n\t\t\t__init(data) {\r\n\t\t\t\tthis.$H.get('/goods/' + data.id).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.banners = res.goodsBanner.map(v => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tsrc: v.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 初始化基本信息\r\n\t\t\t\t\tthis.detail = res\r\n\t\t\t\t\tthis.detail.num = 1\r\n\t\t\t\t\tconsole.log(this.detail, 'rrrrrrrr')\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: res.title\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 滚动商品属性\r\n\t\t\t\t\tthis.baseAttrs = res.goodsAttrs.map(v => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ticon: \"icon-cpu\",\r\n\t\t\t\t\t\t\ttitle: v.name,\r\n\t\t\t\t\t\t\tdesc: v.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 评论  //评价不是针对商品，是针对订单\r\n\t\t\t\t\tthis.comments = res.hotComments.map(v => {\r\n\t\t\t\t\t\t// var imglist = []\r\n\t\t\t\t\t\t// for (let k in v.imglist) { // v.imglist是后端数据，是对象，k为0，for in遍历对象\r\n\t\t\t\t\t\t// \timglist.push(v.imglist[k].src)\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: v.id,\r\n\t\t\t\t\t\t\tuserpic: v.user.avatar,\r\n\t\t\t\t\t\t\tusername: v.user.nickname,\r\n\t\t\t\t\t\t\tcreate_time: v.review_time, //\"2019-09-01 20:34:27\" 转为 2019-09-01 下午 8:34\r\n\t\t\t\t\t\t\tgoods_num: v.goods_num,\r\n\t\t\t\t\t\t\tcontext: v.review.data,\r\n\t\t\t\t\t\t\timglist: v.review.image\r\n\t\t\t\t\t\t\t// context: v.context,\r\n\t\t\t\t\t\t\t// imglist: imglist\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 商品详情\r\n\t\t\t\t\tthis.context = res.content\r\n\t\t\t\t\t// 热门推荐\r\n\t\t\t\t\tthis.hotList = res.hotList.map(v => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tid: v.id,\r\n\t\t\t\t\t\t\tcover: v.cover,\r\n\t\t\t\t\t\t\ttitle: v.title,\r\n\t\t\t\t\t\t\tdesc: v.desc,\r\n\t\t\t\t\t\t\toprice: v.min_oprice,\r\n\t\t\t\t\t\t\tpprice: v.min_price\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (this.detail.sku_type === 1) {\r\n\t\t\t\t\t\t// 商品规格（选项部分）\r\n\t\t\t\t\t\tthis.selects = res.goodsSkusCard.map(v => {\r\n\t\t\t\t\t\t\tlet list = v.goodsSkusCardValue.map(v1 => {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tid: v1.id,\r\n\t\t\t\t\t\t\t\t\tname: v1.value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tid: v.id,\r\n\t\t\t\t\t\t\t\ttitle: v.name,\r\n\t\t\t\t\t\t\t\tselected: 0,\r\n\t\t\t\t\t\t\t\tlist: list\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 选中属性的价格是从后端数据的goodsSkus来的,goodsSkus有属性的四种可能(可以判断价格)的，goodsSkus的skus是用户选中的颜色和套餐属性\r\n\r\n\t\t\t\t\t\t// 吧goodsSkus的skus组成skusText:\"黄色,标配\"\r\n\r\n\t\t\t\t\t\t// goodsSkus的[0-3]的pprice是用户选择的组合的单价\r\n\t\t\t\t\t\t// goodsSkus的[0-3]的pprice乘以购买数量得到最后的价格\t\r\n\r\n\t\t\t\t\t\t// 商品规格（匹配价格）\r\n\t\t\t\t\t\tthis.detail.goodsSkus.forEach(item => {\r\n\t\t\t\t\t\t\tlet arr = []\r\n\t\t\t\t\t\t\tfor (let key in item.skus) {\r\n\t\t\t\t\t\t\t\tarr.push(item.skus[key].value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem.skusText = arr.join(',') //黄色,套餐一\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenCreatePath() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../user-path-edit/user-path-edit'\r\n\t\t\t\t})\r\n\t\t\t\tthis.hide('express')\r\n\t\t\t},\r\n\t\t\taddCart() {//加入购物车\r\n\t\t\t\tif(this.maxStock===0){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 多规格: shop_id,单规格:商品id\r\n\t\t\t\t// skus_type:1为多规格,0为单规格\r\n\t\t\t\t// num商品数量\r\n\t\t\t\tconsole.log(this.detail,'this.detail')\r\n\t\t\t\tthis.$H.post('/cart',{ //获取购物车数据\r\n\t\t\t\t\tshop_id:this.detail.sku_type===0?this.detail.id:this.detail.goodsSkus[this.checkedSkusIndex].id,\r\n\t\t\t\t\tskus_type:this.detail.sku_type,\r\n\t\t\t\t\tnum:this.detail.num\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res,'resresresresresresres')\r\n\t\t\t\t\t// 通知购物车页面更新数据\r\n\t\t\t\t\tuni.$emit('updateCart')\r\n\t\t\t\t\tconsole.log(this.cartCount,'this.cartCount')\r\n\t\t\t\t\t// 隐藏筛选框\r\n\t\t\t\t\tthis.hide('attr')\r\n\t\t\t\t\t// 成功提示\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '加入成功'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 组织数据\r\n\t\t\t\t// let goods = this.detail\r\n\t\t\t\t// console.log(this.detail.cover, this.detail.pprice, 'src')\r\n\t\t\t\t// goods['checked'] = false\r\n\t\t\t\t// goods['attrs'] = this.selects\r\n\t\t\t\t// // 加入购物车\r\n\t\t\t\t// this.addGoodsToCart(goods)\r\n\t\t\t\t// // 隐藏筛选框\r\n\t\t\t\t// this.hide('attr')\r\n\t\t\t\t// // 成功提示\r\n\t\t\t\t// uni.showToast({\r\n\t\t\t\t// \ttitle: '加入成功'\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// 关闭模态框\r\n\t\t\tonBackPress() { //( 只对于app端起作用 )监听页面返回事件，点了detail页面的返回键返回的是首页，需要让它返回到上一个页面\r\n\t\t\t\tfor (let key in this.popup) {\r\n\t\t\t\t\t// console.log(this.popup[key],'this.popup[key]')\r\n\t\t\t\t\tif (this.popup[key] !== 'none') {\r\n\t\t\t\t\t\tthis.hide(key)\r\n\t\t\t\t\t\t// return true//写在这里反而阻止不了默认行为\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// return true; //阻止默认行为，默认行为是返回到首页，只写这个的话，点击返回键是没有效果的\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshow(key) {\r\n\t\t\t\tthis.popup[key] = \"show\"\r\n\t\t\t},\r\n\t\t\thide(key) {\r\n\t\t\t\tthis.popup[key] = \"hide\"\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.popup[key] = \"none\"\r\n\t\t\t\t}, 200)\r\n\t\t\t},\r\n\t\t\tpreview(src, e) { //从uParse复制过来的\r\n\r\n\t\t\t},\r\n\t\t\tnavigate(href, e) {\r\n\t\t\t\tconsole.log(href, e)\r\n\t\t\t},\r\n\t\t\t// 进入领取优惠券页面\r\n\t\t\tgoToCoupon(){\r\n\t\t\t\tthis.navigateTo({//用户需要登录才能领取\r\n\t\t\t\t\turl:'/pages/coupon/coupon'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.uparse .p {\r\n\t\tpadding: 0 !important;\r\n\t}\r\n\r\n\t.uparse view,\r\n\t.uparse uni-view {\r\n\t\tline-height: 0 !important;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1643807262883\n      var cssReload = require(\"C:/QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}