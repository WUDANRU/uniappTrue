{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?b8c6","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?65e8","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?7f4c","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?ae55","uni-app:///pages/search-list/search-list.vue","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?4525","webpack:///C:/Users/17812/Documents/HBuilderProjects/a/pages/search-list/search-list.vue?72f6"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACsB;AACT;AACA;;;AAGvE;AAC+L;AAC/L,gBAAgB,gMAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACzBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAovB,CAAgB,otBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6ExwB;AACA;AACA,wBADA;AAEA,cAFA;AAGA,gCAHA;AAIA,0BAJA;AAKA,oBALA,EADA;;AAQA,MARA,kBAQA;AACA;AACA;AACA,wBAFA;AAGA,mBAHA;AAIA;AACA,iBALA;AAMA,aANA;AAOA;AACA,cARA;AASA;AACA,uBADA;AAEA;AACA,oBADA;AAEA,mBAFA;AAGA,oBAHA;;AAKA;AACA,oBADA;AAEA,mBAFA,EAEA;AACA,2BAHA,EALA;AASA;AACA;AACA,oBADA;AAEA,mBAFA;AAGA,0BAHA,EAVA,CAFA,EATA;;;;AA4BA;AACA,mBADA;AAEA;AACA;AACA,wBADA,EACA,eADA,EACA,eADA,EADA;;AAIA;AACA,2BADA,EACA,eADA,EACA,kBADA,EAJA;;AAOA;AACA,2BADA,EACA,eADA,EACA,kBADA,EAPA;;AAUA;AACA,2BADA,EACA,eADA,EACA,kBADA,EAVA;;AAaA;AACA,wBADA,EACA,SADA,EACA,aADA,EAbA,CAFA,EA5BA;;;;;AAiDA,GA1DA;AA2DA;AACA;AACA,WADA,qBACA;AACA;AACA,oDAFA,CAEA;AACA;AACA,aADA,EACA,KADA;AAEA;AACA,KAPA,EA5DA;;AAqEA,QArEA,kBAqEA,CArEA,EAqEA;AACA;AACA,6BAFA,CAEA;;AAEA;AACA;AACA,wBANA,CAMA;AACA,GA5EA;AA6EA,mCA7EA,6CA6EA,CA7EA,EA6EA;AACA,0BADA,CACA;AACA,GA/EA;AAgFA,qCAhFA,iDAgFA;AACA;AACA,GAlFA;AAmFA,0BAnFA,sCAmFA;AACA;AACA,GArFA;AAsFA,mBAtFA,+BAsFA;AACA;AACA;AACA,qBADA;AAEA,oBAFA;;AAIA;AACA,KANA;AAOA,GA9FA;AA+FA,eA/FA,2BA+FA;AACA,iEADA,CACA;AACA,2CAFA,CAEA;AACA;AACA,gBAJA,CAIA;AACA,iEALA,CAKA;AACA,wBANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5GA;AA6GA;AACA,UADA,oBACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;;;;;;AAMA;;;AAGA;;AAEA;AACA,KAnBA;AAoBA;AACA,cArBA,wBAqBA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAhCA;AAiCA,WAjCA,qBAiCA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,kBAFA;;AAIA,kBAJA;AAKA,oBALA;;;;;;;AAYA,UAZA,CAYA;AACA;AACA;AACA,8HAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAxBA;;AA0BA,KA/DA;AAgEA,UAhEA,kBAgEA,GAhEA,EAgEA;AACA;AACA;AACA,sBADA,GACA,GADA;AAEA;AACA;AACA,qBADA;AAEA,2BAFA;AAGA,8BAHA;AAIA,yBAJA;AAKA,gCALA;AAMA,0CANA;AAOA,8CAPA,CAOA;AACA;AARA;AAUA,OAdA;;AAgBA,KAjFA;AAkFA,SAlFA,mBAkFA;AACA;AACA;AACA,KArFA;AAsFA;AACA,cAvFA,sBAuFA,CAvFA,EAuFA;AACA;AACA;AACA;AACA;AACA,KA5FA;AA6FA,gBA7FA,0BA6FA;AACA;AACA;AACA;AACA;AACA;AACA,uCADA;;AAGA,KArGA;AAsGA;AACA,WAvGA,mBAuGA,CAvGA,EAuGA;AACA;AACA;AACA;AACA,KA3GA;AA4GA,gBA5GA,wBA4GA,KA5GA,EA4GA;AACA;AACA;AACA;AACA;AACA,sDADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhIA,GA7GA,E;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAA+jC,CAAgB,++BAAG,EAAC,C;;;;;;;;;;;ACAnlC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search-list/search-list.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search-list/search-list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search-list.vue?vue&type=template&id=1116b14e&\"\nvar renderjs\nimport script from \"./search-list.vue?vue&type=script&lang=js&\"\nexport * from \"./search-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"@/common/zcm-main-nvue.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"@/common/icon.css?vue&type=style&index=1&lang=css&\"\nimport style2 from \"./search-list.vue?vue&type=style&index=2&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search-list/search-list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-list.vue?vue&type=template&id=1116b14e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<!-- 自定义导航 小程序端的搜索栏 -->\r\n\t\t<view class=\"d-flex a-center px-1\" style=\"z-index:100;height: 90rpx;position:fixed;top:0;left:0;right:0;background:#fff;\">\r\n\t\t\t<view class=\"flex-1 bg-light rounded d-flex a-center text-light-muted\" style=\"height: 65rpx;\">\r\n\t\t\t\t<text class=\"iconfont icon-sousuo mx-2\"></text>\r\n\t\t\t\t<input v-model=\"keyword\" style=\"width:78%\" type=\"text\" value=\"智能积木\" />\r\n\t\t\t</view>\r\n\t\t\t<!-- 右边 -->\r\n\t\t\t<view style=\"width: 85rpx;\" class=\"d-flex a-center j-center\">\r\n\t\t\t\t<text @click=\"search\">搜索</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view style=\"height:90rpx;\"></view><!-- 没有这个的话上面会被挡住 -->\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"position-fixed left-0 right-0 border-bottom d-flex a-center j-center bg-white\" style=\"z-index:100;height:100upx;line-height:100upx;\">\r\n\t\t\t<view class=\"flex-1 d-flex a-center j-center\" v-for=\"(item,index) in screen.list\" :key=\"index\"\r\n\t\t\t\t@tap=\"changeScreen(index)\">\r\n\t\t\t\t<text :class=\"screen.currentIndex===index?'main-text-color':'text-light-muted'\">{{item.name}}</text>\r\n\t\t\t\t<view style=\"line-height:0;\">\r\n\t\t\t\t\t<view class=\"iconfont icon-paixu-shengxu\"\r\n\t\t\t\t\t\t:class=\"item.status===1?'main-text-color':'text-light-muted'\"></view>\r\n\t\t\t\t\t<view class=\"iconfont icon-paixu-jiangxu\"\r\n\t\t\t\t\t\t:class=\"item.status===2?'main-text-color':'text-light-muted'\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view @tap=\"showDrawer('showRight')\" class=\"flex-1 d-flex a-center j-center main-text-color\">\r\n\t\t\t\t筛选\r\n\t\t\t</view>\r\n\t\t</view>\r\n<view style=\"height:100rpx;\"></view>\r\n\t\t<!-- 抽屉 --><!-- :mask-click=\"true\"点击蒙蔽关闭抽屉 -->\r\n\t\t<uni-drawer ref=\"showRight\" :mask-click=\"true\" mode=\"right\">\r\n\t\t\t\t<card headTitle=\"价格范围\" :headBorderBottom=\"false\" :headTitleWeight=\"true\">\r\n\t\t\t\t\t<!-- 单选按钮组 -->\r\n\t\t\t\t\t<zcm-radio-group :label=\"label\" :selected.sync=\"label.selected\" />\r\n\t\t\t\t\t<!-- 上面是第二种写法，这是第一种写法:\t<zcm-radio-group :label=\"label\" @change2=\"changeRadio\" /> -->\r\n\t\t\t\t</card>\r\n\t\t\t\t<!-- 按钮 -->\r\n\t\t\t\t<view class=\"a-b main-text-color\" @tap=\"confirm('showRight')\">\r\n\t\t\t\t\t确定\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"a-b-2\" @tap=\"reset\">\r\n\t\t\t\t\t重置\r\n\t\t\t\t</view>\r\n\t\t</uni-drawer>\r\n\t\t<!-- 列表 -->\r\n\t\t<template>\r\n\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t<search-list :item=\"item\" :index=\"index\"></search-list>\r\n\t\t</block>\r\n\t\t<!-- 没有数据 -->\r\n\t\t<no-thing v-if=\"list.length===0\" msg=\"空空如也\" />\r\n\t\t<!-- <view v-if=\"list.length===0\" class=\"text-light-muted d-flex j-center my-5 font-sm\">\r\n\t\t\t暂无数据 _0 0_\r\n\t\t</view> -->\r\n</template>\r\n\r\n<!-- 上拉加载更多 -->\r\n\t\t<divider />\r\n\t\t<view class=\"d-flex a-center j-center text-light-muted font-3 py-3\">\r\n\t\t\t{{loadtext}}\r\n\t\t</view>\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniDrawer from '@/components/uni-ui/uni-drawer/uni-drawer.vue'\r\n\timport card from '@/components/common/card.vue'\r\n\timport zcmRadioGroup from '@/components/common/radio-group.vue'\r\n\timport searchList from '@/components/zcmsearch-list.vue'\r\n\timport noThing from '@/components/no-thing.vue'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniDrawer,\r\n\t\t\tcard,\r\n\t\t\tzcmRadioGroup,\r\n\t\t\tsearchList,\r\n\t\t\tnoThing\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 1.上拉加载更多 2.加载中... 3.没有更多了\r\n\t\t\t\tloadtext:\"上拉加载更多\",\r\n\t\t\t\tCondition:{},\r\n\t\t\t\t// oldSelected:0, //旧值\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\t// list:demo,\r\n\t\t\t\tlist:[],\r\n\t\t\t\tscreen: {\r\n\t\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\t\tlist: [{\r\n\t\t\t\t\t\t\tname: \"综合\",\r\n\t\t\t\t\t\t\tstatus: 2,\r\n\t\t\t\t\t\t\tkey:\"all\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"销量\",\r\n\t\t\t\t\t\t\tstatus: 0, //写0是因为3个name,默认只有1个为综合的name显示升序或降序\r\n\t\t\t\t\t\t\tkey:\"sale_count\"\r\n\t\t\t\t\t\t}, //0代表没有状态，1代表箭头上，2代表箭头下\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"价格\",\r\n\t\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\t\tkey:\"min_price\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tselected: 0,\r\n\t\t\t\t\tlist: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"0-0.02\",rule:\"between\",value:\"0,0.02\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"0.02-0.03\",rule:\"between\",value:\"0.02,0.03\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"0.03-0.04\",rule:\"between\",value:\"0.03,0.04\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"0.04-0.05\",rule:\"between\",value:\"0.04,0.05\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: \"大于0.05\",rule:\">\",value:\"0.06\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 排序相关\r\n\t\tcomputed:{\r\n\t\t\toptions(){\r\n\t\t\t\tlet obj=this.screen.list[this.screen.currentIndex]\r\n\t\t\t\tlet value=obj.status===1?'asc':'desc' //asc升序，desc降序\r\n\t\t\treturn{\r\n\t\t\t\t[obj.key]:value //return {all:\"desc\"}  //接口all代表综合排序\r\n\t\t\t} //接口说value需要是字符串\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tconsole.log(e.keyword,'search.vue的this.keyword')\r\n\t\t\tthis.keyword = e.keyword //search.vue传过来的\r\n\t\t\t\r\n\t\t\t// 加载数据\r\n\t\t\t// this.getData()\r\n\t\t\tthis.getData(false) //search.vue需要搜索小米，然后点击软键盘的搜索或笔记本的enter键跳转到search-list.vue才会值，然后再点击升降序\r\n\t\t},\r\n\t\tonNavigationBarSearchInputChanged(e) {// 输入的文本\r\n\t\t\tthis.keyword=e.text //当前文件输入的\r\n\t\t},\r\n\t\tonNavigationBarSearchInputConfirmed(){ //软键盘的搜索或笔记本键盘的enter\r\n\t\t\tthis.search()\r\n\t\t},\r\n\t\tonNavigationBarButtonTap(){ //点击原生的搜索按钮\r\n\t\t\tthis.search()\r\n\t\t},\r\n\t\tonPullDownRefresh(){\r\n\t\t\tthis.getData(true,()=>{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:'刷新成功',\r\n\t\t\t\t\ticon:'none'\r\n\t\t\t\t})\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t})\r\n\t\t},\r\n\t\tonReachBottom(){ //每次触底执行  每次触底(前和后)一起只打印1次\r\n\t\t\tconsole.log(this.page,this.loadtext,this.list.length,'前')//1 '上拉加载更多' 6 '前'  从这里拿到的 this.loadtext=res.length<10?'没有更多了':'上拉加载更多'\r\n\t\t\tif (this.loadtext!=='上拉加载更多') return; //上面打印的是全等，这里要不全等才能匹配上\r\n\t\t\tthis.loadtext='加载中...'\r\n\t\t\tthis.page++ //1页10条，++表示进入下一页\r\n\t\t\tconsole.log(this.page,this.loadtext,this.list.length,'后')//2 '加载中...' 6 '后'\r\n\t\t\tthis.getData(false) //每次触底都会执行1次,因为默认是callback=false,空函数代表false\r\n\t\t\t// this.getData(()=>{ //如果这个不在触底事件里，在其他方法里，那这里面需要一个空函数，callback才会执行  因为 if(typeof callback==='function'){ callback () }\r\n\t\t\t// \t\t// uni.showToast({\r\n\t\t\t// \t\t// \ttitle: '加载成功',\r\n\t\t\t// \t\t// \ticon:'none'\r\n\t\t\t// \t\t// })\r\n\t\t\t// })\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearch(){\r\n\t\t\t\tif(this.keyword===''){\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle:'关键词不能为空',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tplus.key.hideSoftKeybord() //隐藏已经显示的软键盘\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t    uni.hideKeyboard()\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tthis.addHistory()\r\n\t\t\t\t\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\t// 加入搜索记录\r\n\t\t\taddHistory(){ //search-list.vue是吧storage里的拿出来修改再重新放进storage里，search.vue是往空数组添加和删除再放进storage\r\n\t\t\t\tlet history=uni.getStorageSync('searchHistory')\r\n\t\t\t\thistory=history?JSON.parse(history):[]\r\n\t\t\t\t\r\n\t\t\t\tlet index = history.indexOf(this.keyword)\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\thistory.unshift(this.keyword)\r\n\t\t\t\t} else {\r\n\t\t\t\t\thistory.unshift(history.splice(index,1)[0])\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync('searchHistory',JSON.stringify(history))\r\n\t\t\t},\r\n\t\t\tgetData(refresh=true,callback=false) {\r\n\t\t\t\t// 打印...this.options控制台会报错，而且如果打印的代码在接口前面显示不出值\r\n\t\t\t\t// console.log(this.options,...this.options,...[this.options]) //第一和第三打印出{ all: \"desc\" }，第二个解构不了下面请求参数可以解构，\r\n\t\t\tlet page=refresh ? 1:this.page\r\n\t\t\tthis.$H.post('/goods/search', { \r\n\t\t\t\ttitle: this.keyword,\r\n\t\t\t\tpage: page,//不是必选的\r\n\t\t\t\t// all:\"desc\", //all:\"asc\",\r\n\t\t\t\t...this.options, //这是一个对象，对象可以...解构，比较特殊 (一般是数组才能...解构)\r\n\t\t\t\t...this.Condition,\r\n\t\t\t\t// price:\"between,5,10\" //这个范围内res是没有值的\r\n\t\t\t\t// price:\"between,0,0.02\" //限制价格，0到0.02之间\r\n\t\t\t\t\r\n\t\t\t\t// this.options //这样写不行要加...,为...this.options\r\n\t\t\t\t// ...[this.options] //请求数据不可以这样写，虽然可以显示值，但是点击同个all(综合)的升降序(升降序切换)就没反应了\r\n\t\t\t\t\r\n\t\t\t}).then(res => { //comments_good_count是好评率,好评数除以总数等于好评率\r\n\t\t\t\t// console.log(res, 'getdat') //search.vue需要搜索小米,然后按键盘的回车或软键盘的搜索才能拿到值\r\n\t\t\t\t let list=this.format(res)\r\n\t\t\t\t this.list = refresh ? [...list] : [...this.list,...list] //[...this.list,...list]昨天这个数据有问题，今天又没问题\r\n\t\t\t\t // 恢复加载状态\r\n\t\t\t\t this.loadtext=res.length<10?'没有更多了':'上拉加载更多'\r\n\t\t\t\t  //res.length一共才6条，比6小，会看见空数据和没有更多了，所以写了10才能看见数据，应该上拉加载时,看见的数据显示页面上了(它的page不会永远停留在page为第1页)\r\n\t\t\t\t  // 不知道10是后端固定的还是前端固定的，应该是后端固定的吧\r\n\t\t\t\t if(typeof callback==='function'){\r\n\t\t\t\t\t callback ()\r\n\t\t\t\t }\r\n\t\t\r\n\t\t\t})\r\n\t\t\r\n\t\t\t},\r\n\t\t\tformat(res) {\r\n\t\t\t\treturn res.map(item => {\r\n\t\t\t\t\tlet good_num = item.comments_count === 0 ? 0 : (item.comments_good_count / item\r\n\t\t\t\t\t\t.comments_count) * 100\r\n\t\t\t\t\t// console.log(good_num, 'good_num')\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\ttitlepic: item.cover,\r\n\t\t\t\t\t\tdesc: item.desc,\r\n\t\t\t\t\t\tpprice: item.min_price,\r\n\t\t\t\t\t\tcomment_num: item.comments_count,\r\n\t\t\t\t\t\tgood_num: Math.round(good_num) + '%' //四舍五入\r\n\t\t\t\t\t\t// good_num:good_num.toFixed(2) + '%' //保留两位数\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t \r\n\t\t\t},\r\n\t\t\treset() {\r\n\t\t\t\tthis.label.selected = 0\r\n\t\t\t\tthis.Condition.price=\"between,0,0.02\"\r\n\t\t\t},\r\n\t\t\t// 打开窗口\r\n\t\t\tshowDrawer(e) {\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tthis.$refs[e].open()\r\n\t\t\t\t// 记录旧的值\r\n\t\t\t\t// this.oldSelected=this.label.selected //打开窗口记录旧值\r\n\t\t\t},\r\n\t\t\tgetCondition(){\r\n\t\t\t\tlet la=this.label.list[this.label.selected]\r\n\t\t\t\t// this.Condition=(la.rule && la.value) ? {\r\n\t\t\t\t// \t price:la.rule+\",\"+la.value\r\n\t\t\t\t// } : { } //点了0-0.02没问题，然后点其他，再点0-0.02就有问题了，所以改为if...else...语句\r\n\t\t\t\tthis.Condition={\r\n\t\t\t\t\t price:la.rule+\",\"+la.value\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 筛选条件并关闭窗口\r\n\t\t\tconfirm(e) {\r\n\t\t\t\tthis.getCondition()\r\n\t\t\t\tthis.getData()\r\n\t\t\t\tthis.$refs[e].close()\r\n\t\t\t},\r\n\t\t\tchangeScreen(index) { //升序1和降序2\r\n\t\t\t\t// 判断当前点击是否已经是激活状态\r\n\t\t\t\tlet oldIndex = this.screen.currentIndex\r\n\t\t\t\tlet oldItem = this.screen.list[oldIndex]\r\n\t\t\t\tif (oldIndex === index) {\r\n\t\t\t\t\toldItem.status = oldItem.status === 1 ? 2 : 1 //切换升降序\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet newIitem = this.screen.list[index]\r\n\t\t\t\t// 移除旧激活状态\r\n\t\t\t\toldItem.status = 0\r\n\t\t\t\tthis.screen.currentIndex = index\r\n\t\t\t\t// 增加新激活状态\r\n\t\t\t\tnewIitem.status = 1\r\n\t\t\t\t// 加载数据\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\t//        \tchangeRadio(index){ //这个是第一种写法可以删除，radio-group.vue有第二种写法\r\n\t\t\t// \tthis.label.selected=index\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style src=\"@/common/zcm-main-nvue.css\"></style>\r\n\r\n<style src=\"@/common/icon.css\"></style>\r\n<style>\r\n\t.a-b {\r\n\t\tbackground: #ff5500;\r\n\t\tcolor: #ffffff;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 50%;\r\n\t\theight: 100upx;\r\n\t\tline-height: 100upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.a-b-2 {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\t\twidth: 50%;\r\n\t\theight: 100upx;\r\n\t\tline-height: 100upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.a-b:active {\r\n\t\tbackground: #ea4e00;\r\n\t}\r\n\r\n\t.a-b-2:active {\r\n\t\tbackground: #e5e5e5;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-list.vue?vue&type=style&index=2&lang=css&\"; export default mod; export * from \"-!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search-list.vue?vue&type=style&index=2&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1643807262917\n      var cssReload = require(\"C:/QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}